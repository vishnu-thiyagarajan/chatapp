(this.webpackJsonpchatapp=this.webpackJsonpchatapp||[]).push([[0],{105:function(e,t,a){e.exports=a(155)},110:function(e,t,a){},111:function(e,t,a){},152:function(e,t){},155:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(9),c=a.n(o),l=(a(110),a(111),a(57)),m=a(10),i=a(16),u=a(204),s=a(203),p=a(195),f=a(201),h=a(192),E=a(196),g=a(202),d=a(83),b=a.n(d),v=a(156),j=a(193),x=a(194),y=a(43),O=a(58),w=function(e,t,a){var r=Object(n.useState)(t),o=Object(i.a)(r,2),c=o[0],l=o[1],m=Object(n.useState)({}),u=Object(i.a)(m,2),s=u[0],p=u[1],f=Object(n.useState)(!1),h=Object(i.a)(f,2),E=h[0],g=h[1];return Object(n.useEffect)((function(){0===Object.keys(s).length&&E&&e()}),[s,e,E]),[function(e){var t=e.target,a=t.name,n=t.value;l(Object(O.a)(Object(O.a)({},c),{},Object(y.a)({},a,n)))},function(e){e.preventDefault(),p(a(c)),g(!0)},c,s,function(){l(t),p({})}]};function k(){return r.a.createElement(v.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(h.a,{color:"inherit",href:"http://tvishnu.netlify.app/"},"Vishnu T")," ",(new Date).getFullYear(),".")}var S=Object(j.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function C(){var e=S(),t=Object(n.useState)(!1),a=Object(i.a)(t,2),o=a[0],c=a[1],l=w((function(){return c(!0)}),{name:"",room:""},(function(e){var t={};return e.name&&e.room||(e.name||(t.name="Name is required"),e.room||(t.room="Room is required")),t})),h=Object(i.a)(l,4),d=h[0],j=h[1],y=h[2],O=h[3];return o?r.a.createElement(m.a,{to:"/chat?name=".concat(y.name,"&room=").concat(y.room)}):r.a.createElement(x.a,{component:"main",maxWidth:"xs"},r.a.createElement(p.a,null),r.a.createElement("div",{className:e.paper},r.a.createElement(u.a,{className:e.avatar},r.a.createElement(b.a,null)),r.a.createElement(v.a,{component:"h1",variant:"h5"},"Join"),r.a.createElement("form",{className:e.form,noValidate:!0},r.a.createElement(f.a,{variant:"outlined",margin:"normal",value:y.name,error:!!O.name,helperText:O.name,onChange:d,required:!0,fullWidth:!0,id:"name",label:"Name",name:"name",autoComplete:"name",autoFocus:!0}),r.a.createElement(f.a,{variant:"outlined",margin:"normal",value:y.room,error:!!O.room,helperText:O.room,onChange:d,required:!0,fullWidth:!0,name:"room",label:"Room",type:"room",id:"room",autoComplete:"current-room"}),r.a.createElement(s.a,{type:"submit",fullWidth:!0,onClick:j,variant:"contained",color:"primary",className:e.submit},"Join Room"),r.a.createElement(E.a,{container:!0}))),r.a.createElement(g.a,{mt:8},r.a.createElement(k,null)))}var N,W=a(90),I=a(84),T=a.n(I),B=a(85),D=a.n(B),R=a(89),q=a.n(R),F=a(197),J=a(198),V=a(88),L=a.n(V),M=a(87),P=a.n(M),Y=a(199),z=a(200),K=a(86),$=a.n(K),A=Object(j.a)((function(e){return{paper:{marginTop:e.spacing(2),display:"flex",flexDirection:"column",alignItems:"center"},root:{height:"80vh",overflowY:"auto"},card:{width:"100%",marginBottom:"5px"},content:{padding:"8px 8px 8px 8px","&:last-child":{paddingBottom:"8px"},overflowWrap:"break-word"}}}));var G=function(e){var t=e.location,a=Object(n.useRef)(null),o=function(){a.current.scrollIntoView({behavior:"smooth"})},c=A(),l=Object(n.useState)(""),m=Object(i.a)(l,2),u=m[0],f=m[1],h=Object(n.useState)(""),g=Object(i.a)(h,2),d=g[0],b=g[1],j=Object(n.useState)(""),y=Object(i.a)(j,2),O=y[0],w=y[1],k=Object(n.useState)([]),S=Object(i.a)(k,2),C=S[0],I=S[1];Object(n.useEffect)((function(){var e=T.a.parse(t.search),a=e.name,n=e.room;return N=D()("https://chatappforreact.herokuapp.com/"),f(a),b(n),N.emit("join",{name:a,room:n},(function(e){e&&alert(e)})),function(){N.emit("disconnect"),N.off()}}),[t.search]),Object(n.useEffect)((function(){N.on("message",(function(e){I([].concat(Object(W.a)(C),[e])),o()}))}),[C]);var B=function(e){e.preventDefault(),O&&N.emit("sendMessage",O,(function(){w(""),o()}))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(x.a,{component:"main",maxWidth:"xs"},r.a.createElement(p.a,null),r.a.createElement("div",{className:c.paper},r.a.createElement(E.a,{container:!0,item:!0,xs:12,justify:"center",alignItems:"center",spacing:0},r.a.createElement(E.a,{item:!0,xs:12},r.a.createElement(E.a,{container:!0,item:!0,xs:12},r.a.createElement(E.a,{item:!0,xs:!0},r.a.createElement(v.a,{variant:"h4",color:"textPrimary",gutterBottom:!0},r.a.createElement(P.a,{style:{color:"green"}}),"Room : ",d)),r.a.createElement(E.a,{align:"right",item:!0,xs:1},r.a.createElement("a",{href:"/"},r.a.createElement(L.a,null)))),r.a.createElement(F.a,{className:c.root,elevation:20},r.a.createElement(J.a,{className:c.content},r.a.createElement(Y.a,null,C.map((function(e,t){return r.a.createElement(z.a,{cols:2,style:{height:"auto"},key:t},r.a.createElement(F.a,{className:c.card,elevation:20},r.a.createElement(J.a,{className:c.content},r.a.createElement(v.a,{align:e.user===u.trim().toLowerCase()?"right":"left",variant:"body1",component:"p",color:"textSecondary",gutterBottom:!0},e.user),r.a.createElement(v.a,{align:e.user===u.trim().toLowerCase()?"right":"left",variant:"body2",component:"p"},$.a.emojify(e.text)))))})),r.a.createElement(z.a,{cols:2,style:{height:"auto"},ref:a})))))),r.a.createElement(E.a,{container:!0,item:!0,xs:12,justify:"center",alignItems:"center",spacing:0},r.a.createElement(E.a,{item:!0,xs:9},r.a.createElement("textarea",{autoFocus:!0,placeholder:"Type a message...",style:{resize:"none",width:"100%"},value:O,onChange:function(e){return w(e.target.value)},onKeyPress:function(e){return"Enter"===e.key?B(e):null}})),r.a.createElement(E.a,{item:!0,xs:3},r.a.createElement(s.a,{variant:"contained",color:"primary",onClick:B,endIcon:r.a.createElement(q.a,null)},"Send"))))))};var H=function(){return r.a.createElement(l.a,null,r.a.createElement(m.b,{path:"/",exact:!0,component:C}),r.a.createElement(m.b,{path:"/chat",exact:!0,component:G}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(H,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[105,1,2]]]);
//# sourceMappingURL=main.2ceb9aca.chunk.js.map